#This code will be used to help with a single motor control test
#PWM ramping up with computer control via console input
import RPi.GPIO as GPIO
import time

GPIO.setwarnings(False)
GPIO.setmode(GPIO.BOARD)
GPIO.setup(37, GPIO.OUT)
freq = 590
pwm = GPIO.PWM(37, freq)          #sets f to 590Hz, pin 37
dc = 54                          #duty cycle inital value
pwm.start(dc)


while 1:

        a = int(input())
        print(a)
        if a ==  0:
                dc = dc + 1
                pwm.ChangeDutyCycle(dc)
                print('duty cycle increased by 1%')
                print('Current duty cycle is ')
                print(dc)

        if a == 9:
                dc = dc + 10
                pwm.ChangeDutyCycle(dc)
                print('duty cycle increased by 10%')
                print('Current duty cycle is ')
                print(dc)

        if a == 8:
                dc = dc - 10
                pwm.ChangeDutyCycle(dc)
                print('duty cycle is decreaesd by 10%%')
                print(dc)

        if a == 7:
                dc = dc - 1
                pwm.ChangeDutyCycle(dc)
                print('duty cycle decreased by 1%')
                print(dc)

        if a == 4:
                freq = freq + 1
                pwm.ChangeFrequency(freq)
                print(freq)

        if a == 3:
                freq = freq + 10
                pwm.ChangeFrequency(freq)
                print(freq)

        if a == 2:
                freq = freq - 10
                pwm.ChangeFrequency(freq)
                print(freq)

        if a == 1:
                freq = freq - 1
                pwm.ChangeFrequency(freq)
                print(freq)

GPIO.cleanup()
